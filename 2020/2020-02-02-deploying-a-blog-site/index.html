<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.19.12"/><style data-styled="" data-styled-version="5.0.0">.dtlUne{position:relative;text-align:left;margin:1em 0;padding:0.5em;overflow-x:auto;border-radius:3px;font-family:'Courier New',Courier,monospace;}
.dtlUne .token-lline{line-height:1.3em;height:1.3em;}
data-styled.g1[id="Code__Pre-qgjj2j-0"]{content:"dtlUne,"}
.kalapB{display:inline-block;width:2em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;}
data-styled.g2[id="Code__LineNo-qgjj2j-1"]{content:"kalapB,"}
.hHISGz{position:absolute;right:0.25rem;border:0;border-radius:3px;margin:0.25em;opacity:0.3;}
.hHISGz:hover{opacity:1;}
data-styled.g3[id="Code__CopyCode-qgjj2j-2"]{content:"hHISGz,"}
.hTEYHR{width:800px;margin:0 auto;}
data-styled.g4[id="Layout__AppStyles-ofllyx-0"]{content:"hTEYHR,"}
</style><link as="script" rel="preload" href="/techblog/webpack-runtime-32416f10351aa1627f16.js"/><link as="script" rel="preload" href="/techblog/commons-487d38bec414ba5177c2.js"/><link as="script" rel="preload" href="/techblog/app-dcbd940231e6cb5a8245.js"/><link as="script" rel="preload" href="/techblog/component---src-templates-blog-post-template-js-595d0789709c8fe06980.js"/><link as="fetch" rel="preload" href="/techblog/page-data/2020/2020-02-02-deploying-a-blog-site/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><main class="Layout__AppStyles-ofllyx-0 hTEYHR"><a href="/techblog/"><h1>Technical Blog</h1><p>This is my coding blog where I write about my cloud journey.</p></a><h1>Deploying a tech blog site</h1><p>2020 February 2nd</p><p>There are many way to host a static page live, and I have tried a number in the past.  There are great services
like Netlify, a S3 bucket, or AWS Amplify.  I wanted something that cause be quickly deployed from a github repo and
ghpages had be mentioned for blog sites, plus its completely free.</p><h3>Github Pages</h3><p>GitHub Pages is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on GitHub,
optionally runs the files through a build process, and publishes a website.</p><p>You can host your site on GitHub&#x27;s github.io domain or your own custom domain.</p><blockquote><p>if you haven&#x27;t already, create a github project and push your code</p></blockquote><h4>Configuring the GitHub Pages source branch</h4><p>You must select which branch will be deployed from your repository settings in GitHub for GitHub Pages to function. On GitHub:</p><ol><li>Navigate to your site’s repository.</li><li>Under the repository name, click Settings.</li><li>In the GitHub Pages section, use the Source drop-down to select master (for publishing to the root subdomain) or gh-pages (for publishing to a path like /docs) as your GitHub Pages publishing source.</li><li>Click Save.</li></ol><h4>Installing the gh-pages package</h4><p>The easiest way to push a Gatsby app to GitHub Pages is by using a package called gh-pages.</p><pre class="Code__Pre-qgjj2j-0 dtlUne prism-code language-shell" style="color:#d6deeb;background-color:#011627"><button class="Code__CopyCode-qgjj2j-2 hHISGz">Copy</button><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">1</span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> gh-pages --save-dev</span></div></pre><p>Then add a deploy script to package.json in your repository’s codebase:</p><pre class="Code__Pre-qgjj2j-0 dtlUne prism-code language-json" style="color:#d6deeb;background-color:#011627"><button class="Code__CopyCode-qgjj2j-2 hHISGz">Copy</button><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">2</span><span class="token plain">  </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">3</span><span class="token plain">    </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;deploy&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;gatsby build --prefix-paths &amp;&amp; gh-pages -d public&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">4</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><p>Assuming that github was expecting the generated &#x27;public&#x27; folder in source control. I was wrong.</p><p>Running </p><pre class="Code__Pre-qgjj2j-0 dtlUne prism-code language-shell" style="color:#d6deeb;background-color:#011627"><button class="Code__CopyCode-qgjj2j-2 hHISGz">Copy</button><div class="token-line" style="color:#d6deeb"><span class="Code__LineNo-qgjj2j-1 kalapB">1</span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run deploy</span></div></pre><p>created another branch called &#x27;gh-pages&#x27; and updated the Github Pages source branch in the settings mentioned above.</p><p>It great that the deploy just works; the build happens on the laptop and the public folder is uploaded to the gh-pages branch.
The site is running at <a href="https://chrilliams.github.io/techblog/">https://chrilliams.github.io/techblog/</a></p><p>If this doesn&#x27;t work, deployment information is available via environments in the github repo.</p><a href="/techblog/2020/2020-02-04-custom-resources/"><p>Cloudformation custom resources taking hours to timeout</p></a><a href="/techblog/2020/2020-02-01-starting-a-blog/"><p>Tech blog site</p></a></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2020/2020-02-02-deploying-a-blog-site/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-dcbd940231e6cb5a8245.js"],"component---src-templates-blog-post-template-js":["/component---src-templates-blog-post-template-js-595d0789709c8fe06980.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b1f715f6ec8816250040.js"]};/*]]>*/</script><script src="/techblog/component---src-templates-blog-post-template-js-595d0789709c8fe06980.js" async=""></script><script src="/techblog/app-dcbd940231e6cb5a8245.js" async=""></script><script src="/techblog/commons-487d38bec414ba5177c2.js" async=""></script><script src="/techblog/webpack-runtime-32416f10351aa1627f16.js" async=""></script></body></html>